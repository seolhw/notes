**场景1：** *活动状态：1 开团进行中 2 开团失败 3 商品售罄 4 开团成功 5 系统取消* 

~~~javascript
方法1：if...else if...else
const onButtonClick = (status)=>{
      if(status == 1){
        sendLog('processing')
        jumpTo('IndexPage')
      }elseif(status == 2){
        sendLog('fail')
        jumpTo('FailPage')
      }elseif(status == 3){
        sendLog('fail')
        jumpTo('FailPage')
      }elseif(status == 4){
        sendLog('success')
        jumpTo('SuccessPage')
      }elseif(status == 5){
        sendLog('cancel')
        jumpTo('CancelPage')
      }else {
        sendLog('other')
        jumpTo('Index')
      }
    }
~~~

~~~javascript
方法2：switch
const onButtonClick = (status)=>{
  switch (status){
    case 1:
      sendLog('processing')
      jumpTo('IndexPage')
      break
    case 2:
    case 3:
      sendLog('fail')
      jumpTo('FailPage')
      break  
    case 4:
      sendLog('success')
      jumpTo('SuccessPage')
      break
    case 5:
      sendLog('cancel')
      jumpTo('CancelPage')
      break
    default:
      sendLog('other')
      jumpTo('Index')
      break
  }
}
//case 2和case 3逻辑一样的时候，可以省去执行语句和break，则case 2的情况自动执行case 3的逻辑。
~~~

~~~javascript
方法3：对象
const actions = {
      '1': ['processing','IndexPage'],
      '2': ['fail','FailPage'],
      '3': ['fail','FailPage'],
      '4': ['success','SuccessPage'],
      '5': ['cancel','CancelPage'],
      'default': ['other','Index'],
    }
const onButtonClick = (status)=>{
    let action = actions[status] || actions['default'],
        logName = action[0],
        pageName = action[1]
    sendLog(logName)
    jumpTo(pageName)
}
~~~

~~~javascript
方法4：map
    const actions = new Map([
      [1, ['processing','IndexPage']],
      [2, ['fail','FailPage']],
      [3, ['fail','FailPage']],
      [4, ['success','SuccessPage']],
      [5, ['cancel','CancelPage']],
      ['default', ['other','Index']]
    ])
     const onButtonClick = (status)=>{
      let action = actions.get(status) || actions.get('default')
      sendLog(action[0])
      jumpTo(action[1])
    }
~~~

**场景2：** *活动状态：1 开团进行中 2 开团失败 3 商品售罄 4 开团成功 5 系统取消* 

​				*身份标识：guest客态 master主态* 

~~~javascript
方法1：if...else if...else
const onButtonClick = (status,identity)=>{
      if(identity == 'guest'){
        if(status == 1){
          //do sth
        }elseif(status == 2){
          //do sth
        }elseif(status == 3){
          //do sth
        }elseif(status == 4){
          //do sth
        }elseif(status == 5){
          //do sth
        }else {
          //do sth
        }
      }elseif(identity == 'master') {
        if(status == 1){
          //do sth
        }elseif(status == 2){
          //do sth
        }elseif(status == 3){
          //do sth
        }elseif(status == 4){
          //do sth
        }elseif(status == 5){
          //do sth
        }else {
          //do sth
        }
      }
    }
~~~

~~~javascript
方法2：map
  const actions = newMap([
      ['guest_1', ()=>{/*do sth*/}],
      ['guest_2', ()=>{/*do sth*/}],
      ['guest_3', ()=>{/*do sth*/}],
      ['guest_4', ()=>{/*do sth*/}],
      ['guest_5', ()=>{/*do sth*/}],
      ['master_1', ()=>{/*do sth*/}],
      ['master_2', ()=>{/*do sth*/}],
      ['master_3', ()=>{/*do sth*/}],
      ['master_4', ()=>{/*do sth*/}],
      ['master_5', ()=>{/*do sth*/}],
      ['default', ()=>{/*do sth*/}],
    ])
  const onButtonClick = (identity,status)=>{
   let action = actions.get(`${identity}_${status}`) ||                           actions.get('default')
   action.call(this)
 }  
  
上述代码核心逻辑是：把两个条件拼接成字符串，并通过以条件拼接字符串作为键，以处理函数作为值的Map对象进行查找并执行，这种写法在多元条件判断时候尤其好用
~~~

~~~javascript
方法3：对象Object
    const actions = {
      'guest_1':()=>{/*do sth*/},
      'guest_2':()=>{/*do sth*/},
      //....
    }
    
    const onButtonClick = (identity,status)=>{
        let action = actions[`${identity}_${status}`] ||           					  actions['default']
        action.call(this)
    }
~~~

~~~javascript
方法4：Map对象，以Object对象作为key
 const actions = newMap([
      [{identity:'guest',status:1},()=>{/*do sth*/}],
      [{identity:'guest',status:2},()=>{/*do sth*/}],
      //...
    ])
    
const onButtonClick = (identity,status)=>{
    let action = [...actions].filter(([key,value])=>(key.identity == identity && key.status == status))
     action.forEach(([key,value])=>value.call(this))
 }


等价于
const onButtonclick=(identity,status)=>{
  actions.forEach((value,key)=>{
      if(key.identity===identity && key.status===status){
          value()
      }
  })
}
~~~

**场景3**：有些处理逻辑相同

~~~javascript
//将处理逻辑进行缓存
const actions = ()=>{
  const functionA = ()=>{/*do sth*/}
  const functionB = ()=>{/*do sth*/}
  return new Map([
    [{identity:'guest',status:1},functionA],
    [{identity:'guest',status:2},functionA],
    [{identity:'guest',status:3},functionA],
    [{identity:'guest',status:4},functionA],
    [{identity:'guest',status:5},functionB],
    //...
  ])
}

const onButtonClick = (identity,status)=>{
  let action = [...actions()].filter(([key,value])=>(key.identity == identity && key.status == status))
  action.forEach(([key,value])=>value.call(this))
}
~~~

~~~javascript
//正则作为key
const actions = ()=>{
  const functionA = ()=>{/*do sth*/}
  const functionB = ()=>{/*do sth*/}
  return new Map([
    [/^guest_[1-4]$/,functionA],
    [/^guest_5$/,functionB],
    //...
  ])
}

const onButtonClick = (identity,status)=>{
  let action = [...actions()].filter(([key,value])=>(key.test(`${identity}_${status}`)))
  action.forEach(([key,value])=>value.call(this))
}
~~~

~~~javascript
const actions = ()=>{
  const functionA = ()=>{/*do sth*/}
  const functionB = ()=>{/*do sth*/}
  const functionC = ()=>{/*send log*/}
  return new Map([
    [/^guest_[1-4]$/,functionA],
    [/^guest_5$/,functionB],
    [/^guest_.*$/,functionC],
    //...
  ])
}

const onButtonClick = (identity,status)=>{
  let action = [...actions()].filter(([key,value])=>(key.test(`${identity}_${status}`)))
  action.forEach(([key,value])=>value.call(this))
}
~~~



1、Map与Object的区别，Map可以用任何类型的数据作为key。

2、 Map可以用正则类型作为key

**总结：**

if/else

switch

一元判断时：存到Object里

一元判断时：存到Map里

多元判断时：将condition拼接成字符串存到Object里

多元判断时：将condition拼接成字符串存到Map里

多元判断时：将condition存为Object存到Map里

多元判断时：将condition写作正则存到Map里

链接： https://juejin.im/post/5bdfef86e51d453bf8051bf8 